<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TravelAI - Planificación Inteligente de Viajes con IA | Itinerarios Personalizados</title>
    <meta name="description" content="TravelAI crea itinerarios de viaje personalizados con IA. Recomendaciones de restaurantes analizadas por reseñas, vuelos Ryanair, hoteles Booking y tours Civitatis. Planifica tu viaje perfecto.">
    <meta name="keywords" content="viajes, itinerarios, IA, inteligencia artificial, planificación viajes, restaurantes, vuelos Ryanair, hoteles Booking, tours Civitatis, viajes personalizados">
    <meta name="author" content="TravelAI">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=SF+Pro+Display:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Schema.org markup for Google -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "TravelAgency",
      "name": "TravelAI",
      "description": "Planificación inteligente de viajes con IA que crea itinerarios personalizados",
      "url": "https://travelai.com",
      "logo": "https://travelai.com/logo.png",
      "sameAs": [
        "https://www.facebook.com/travelai",
        "https://www.instagram.com/travelai",
        "https://twitter.com/travelai"
      ]
    }
    </script>
    
    <style>
        :root {
            --primary-blue: #0071e3;
            --primary-blue-hover: #0077ed;
            --accent-green: #30d158;
            --accent-orange: #ff9f0a;
            --accent-purple: #bf5af2;
            --text-primary: #1d1d1f;
            --text-secondary: #86868b;
            --bg-primary: #ffffff;
            --bg-secondary: #f5f5f7;
            --bg-tertiary: #fbfbfd;
            --glass-bg: rgba(255, 255, 255, 0.85);
            --glass-border: rgba(255, 255, 255, 0.4);
            --glass-shadow: 0 20px 40px rgba(31, 38, 135, 0.15);
            --transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            --border-radius: 16px;
            --border-radius-lg: 24px;
        }

        .dark-mode {
            --primary-blue: #0a84ff;
            --primary-blue-hover: #409cff;
            --accent-green: #30d158;
            --accent-orange: #ff9f0a;
            --accent-purple: #bf5af2;
            --text-primary: #f5f5f7;
            --text-secondary: #a1a1a6;
            --bg-primary: #000000;
            --bg-secondary: #1d1d1f;
            --bg-tertiary: #2c2c2e;
            --glass-bg: rgba(0, 0, 0, 0.75);
            --glass-border: rgba(255, 255, 255, 0.1);
            --glass-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
        }

        body {
            background-color: var(--bg-primary);
            color: var(--text-primary);
            transition: var(--transition);
            overflow-x: hidden;
            line-height: 1.47059;
            font-weight: 400;
            letter-spacing: -0.022em;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 22px;
        }

        /* Header Styles */
        header {
            background-color: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(30px) saturate(180%);
            -webkit-backdrop-filter: blur(30px) saturate(180%);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            transition: var(--transition);
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
        }

        .dark-mode header {
            background-color: rgba(0, 0, 0, 0.9);
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .nav-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
        }

        .logo {
            font-size: 24px;
            font-weight: 700;
            color: var(--text-primary);
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .logo-icon {
            width: 36px;
            height: 36px;
            background: linear-gradient(135deg, var(--primary-blue), var(--accent-purple));
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 18px;
        }

        .nav-links {
            display: flex;
            list-style: none;
            gap: 32px;
        }

        .nav-links a {
            color: var(--text-primary);
            text-decoration: none;
            font-size: 17px;
            font-weight: 500;
            transition: var(--transition);
            position: relative;
            padding: 8px 0;
        }

        .nav-links a:hover {
            color: var(--primary-blue);
        }

        .nav-links a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: linear-gradient(90deg, var(--primary-blue), var(--accent-purple));
            transition: var(--transition);
        }

        .nav-links a:hover::after {
            width: 100%;
        }

        .theme-toggle {
            background: none;
            border: none;
            color: var(--text-primary);
            font-size: 20px;
            cursor: pointer;
            transition: var(--transition);
            width: 44px;
            height: 44px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--glass-bg);
            backdrop-filter: blur(10px);
            border: 1px solid var(--glass-border);
        }

        .theme-toggle:hover {
            transform: scale(1.1);
            color: var(--primary-blue);
        }

        /* Hero Section */
        .hero {
            padding: 180px 0 120px;
            text-align: center;
            background: linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-primary) 100%);
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: 
                radial-gradient(circle at 20% 80%, rgba(0, 113, 227, 0.08) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(191, 90, 242, 0.08) 0%, transparent 50%);
            z-index: 0;
            animation: float 8s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
        }

        .hero-content {
            position: relative;
            z-index: 1;
        }

        .hero h1 {
            font-size: 72px;
            font-weight: 700;
            margin-bottom: 24px;
            line-height: 1.05;
            letter-spacing: -0.015em;
            background: linear-gradient(135deg, var(--text-primary), var(--primary-blue));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hero p {
            font-size: 24px;
            color: var(--text-secondary);
            margin-bottom: 48px;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
            font-weight: 400;
            line-height: 1.4;
        }

        .cta-button {
            display: inline-flex;
            align-items: center;
            gap: 12px;
            background: linear-gradient(135deg, var(--primary-blue), var(--accent-purple));
            color: white;
            font-size: 18px;
            font-weight: 600;
            padding: 16px 40px;
            border-radius: 50px;
            text-decoration: none;
            transition: var(--transition);
            border: none;
            cursor: pointer;
            position: relative;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 113, 227, 0.3);
        }

        .cta-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: 0.5s;
        }

        .cta-button:hover::before {
            left: 100%;
        }

        .cta-button:hover {
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 15px 40px rgba(0, 113, 227, 0.4);
        }

        /* Testimonials Section */
        .testimonials {
            padding: 100px 0;
            background: var(--bg-secondary);
        }

        .testimonials-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
            margin-top: 60px;
        }

        .testimonial-card {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border-radius: var(--border-radius-lg);
            border: 1px solid var(--glass-border);
            padding: 40px 30px;
            transition: var(--transition);
            position: relative;
        }

        .testimonial-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--glass-shadow);
        }

        .testimonial-content {
            font-size: 16px;
            line-height: 1.6;
            color: var(--text-primary);
            margin-bottom: 25px;
            font-style: italic;
        }

        .testimonial-author {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .author-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary-blue), var(--accent-purple));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            font-size: 18px;
        }

        .author-info h4 {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .author-info p {
            color: var(--text-secondary);
            font-size: 14px;
        }

        .rating {
            display: flex;
            gap: 2px;
            margin-top: 8px;
        }

        .rating i {
            color: var(--accent-orange);
            font-size: 14px;
        }

        /* Restaurant Recommendations */
        .restaurant-recommendations {
            padding: 100px 0;
            background: var(--bg-primary);
        }

        .restaurant-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 30px;
            margin-top: 50px;
        }

        .restaurant-card {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border-radius: var(--border-radius-lg);
            border: 1px solid var(--glass-border);
            padding: 30px;
            transition: var(--transition);
        }

        .restaurant-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--glass-shadow);
        }

        .restaurant-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 20px;
        }

        .restaurant-name {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .restaurant-rating {
            display: flex;
            align-items: center;
            gap: 8px;
            background: var(--accent-green);
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
        }

        .restaurant-details {
            color: var(--text-secondary);
            margin-bottom: 15px;
            line-height: 1.5;
        }

        .restaurant-reviews {
            margin-bottom: 20px;
        }

        .review-excerpt {
            font-size: 14px;
            color: var(--text-secondary);
            font-style: italic;
            margin-bottom: 8px;
            padding-left: 15px;
            border-left: 3px solid var(--primary-blue);
        }

        .restaurant-link {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            color: var(--primary-blue);
            text-decoration: none;
            font-weight: 600;
            font-size: 15px;
        }

        /* Travel Services */
        .travel-services {
            padding: 100px 0;
            background: var(--bg-secondary);
        }

        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px;
            margin-top: 50px;
        }

        .service-card {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border-radius: var(--border-radius-lg);
            border: 1px solid var(--glass-border);
            padding: 40px 30px;
            text-align: center;
            transition: var(--transition);
        }

        .service-card:hover {
            transform: translateY(-8px);
            box-shadow: var(--glass-shadow);
        }

        .service-icon {
            font-size: 48px;
            margin-bottom: 20px;
            color: var(--primary-blue);
        }

        .service-title {
            font-size: 22px;
            font-weight: 600;
            margin-bottom: 15px;
        }

        .service-description {
            color: var(--text-secondary);
            margin-bottom: 25px;
            line-height: 1.5;
        }

        .service-link {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            color: var(--primary-blue);
            text-decoration: none;
            font-weight: 600;
            padding: 10px 20px;
            border: 2px solid var(--primary-blue);
            border-radius: 50px;
            transition: var(--transition);
        }

        .service-link:hover {
            background: var(--primary-blue);
            color: white;
        }

        /* Survey Section */
        .survey {
            padding: 100px 0;
            background-color: var(--bg-primary);
            position: relative;
        }

        .section-title {
            font-size: 48px;
            font-weight: 700;
            text-align: center;
            margin-bottom: 60px;
            line-height: 1.1;
            letter-spacing: -0.005em;
        }

        .survey-container {
            background: var(--glass-bg);
            backdrop-filter: blur(30px);
            border-radius: var(--border-radius-lg);
            border: 1px solid var(--glass-border);
            padding: 50px;
            box-shadow: var(--glass-shadow);
            max-width: 900px;
            margin: 0 auto;
        }

        .survey-step {
            display: none;
            animation: fadeInUp 0.6s ease;
        }

        .survey-step.active {
            display: block;
        }

        .survey-question {
            font-size: 28px;
            margin-bottom: 40px;
            text-align: center;
            font-weight: 600;
            line-height: 1.3;
        }

        .survey-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .survey-option {
            background: var(--bg-primary);
            border: 1px solid var(--glass-border);
            border-radius: var(--border-radius);
            padding: 25px 20px;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
        }

        .survey-option:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }

        .survey-option.selected {
            border-color: var(--primary-blue);
            box-shadow: 0 0 0 2px var(--primary-blue);
        }

        .survey-option i {
            font-size: 32px;
            margin-bottom: 12px;
            color: var(--primary-blue);
        }

        .destination-input-container {
            position: relative;
            max-width: 500px;
            margin: 0 auto 40px;
        }

        .destination-input {
            width: 100%;
            padding: 16px 20px;
            font-size: 16px;
            border: 2px solid var(--glass-border);
            border-radius: var(--border-radius);
            background: var(--bg-primary);
            color: var(--text-primary);
            transition: var(--transition);
        }

        .destination-input:focus {
            outline: none;
            border-color: var(--primary-blue);
        }

        .suggestions-container {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: var(--bg-primary);
            border: 1px solid var(--glass-border);
            border-radius: var(--border-radius);
            margin-top: 8px;
            max-height: 200px;
            overflow-y: auto;
            z-index: 100;
            display: none;
        }

        .suggestion-item {
            padding: 12px 16px;
            cursor: pointer;
            border-bottom: 1px solid var(--glass-border);
            transition: var(--transition);
        }

        .suggestion-item:hover {
            background: var(--bg-secondary);
        }

        .suggestion-item:last-child {
            border-bottom: none;
        }

        .survey-navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 40px;
        }

        .survey-btn {
            background: var(--primary-blue);
            color: white;
            border: none;
            border-radius: 50px;
            padding: 14px 30px;
            font-size: 16px;
            cursor: pointer;
            transition: var(--transition);
            font-weight: 600;
        }

        .survey-btn:hover:not(:disabled) {
            background: var(--primary-blue-hover);
            transform: translateY(-2px);
        }

        .survey-btn:disabled {
            background: var(--text-secondary);
            cursor: not-allowed;
        }

        .survey-btn.outline {
            background: transparent;
            color: var(--text-primary);
            border: 2px solid var(--glass-border);
        }

        .survey-btn.outline:hover {
            border-color: var(--primary-blue);
        }

        /* Results Section */
        .results {
            padding: 100px 0;
            background-color: var(--bg-primary);
            display: none;
        }

        .results.active {
            display: block;
        }

        .results-header {
            text-align: center;
            margin-bottom: 60px;
        }

        .destination-title {
            font-size: 48px;
            font-weight: 700;
            margin-bottom: 16px;
        }

        .itinerary-actions {
            display: flex;
            gap: 16px;
            justify-content: center;
            margin-top: 30px;
            flex-wrap: wrap;
        }

        .action-btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 12px 24px;
            border-radius: 50px;
            font-weight: 600;
            text-decoration: none;
            transition: var(--transition);
            border: 2px solid transparent;
        }

        .action-btn.primary {
            background: var(--primary-blue);
            color: white;
        }

        .action-btn.secondary {
            background: transparent;
            color: var(--text-primary);
            border-color: var(--glass-border);
        }

        .action-btn:hover {
            transform: translateY(-2px);
        }

        .itinerary-editor {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border-radius: var(--border-radius-lg);
            border: 1px solid var(--glass-border);
            padding: 40px;
            margin-bottom: 40px;
            box-shadow: var(--glass-shadow);
        }

        .day-section {
            margin-bottom: 40px;
            padding-bottom: 30px;
            border-bottom: 1px solid var(--glass-border);
        }

        .day-section:last-child {
            border-bottom: none;
        }

        .day-header {
            display: flex;
            justify-content: between;
            align-items: center;
            margin-bottom: 24px;
        }

        .day-title {
            font-size: 24px;
            font-weight: 600;
            color: var(--primary-blue);
        }

        .activities-list {
            display: grid;
            gap: 16px;
        }

        .activity-item {
            background: var(--bg-primary);
            border-radius: var(--border-radius);
            padding: 20px;
            border: 1px solid var(--glass-border);
            transition: var(--transition);
        }

        .activity-item:hover {
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .activity-header {
            display: flex;
            justify-content: between;
            align-items: start;
            margin-bottom: 12px;
        }

        .activity-time {
            font-weight: 600;
            color: var(--primary-blue);
        }

        .activity-actions {
            display: flex;
            gap: 8px;
        }

        .icon-btn {
            background: none;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            padding: 6px;
            border-radius: 6px;
            transition: var(--transition);
        }

        .icon-btn:hover {
            background: var(--bg-secondary);
            color: var(--text-primary);
        }

        .activity-details h4 {
            font-size: 18px;
            margin-bottom: 8px;
        }

        .activity-details p {
            color: var(--text-secondary);
            margin-bottom: 8px;
        }

        .activity-link {
            color: var(--primary-blue);
            text-decoration: none;
            font-size: 14px;
            display: inline-flex;
            align-items: center;
            gap: 4px;
        }

        .add-activity {
            text-align: center;
            margin-top: 20px;
        }

        .recommendations-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 24px;
            margin-top: 40px;
        }

        .recommendation-card {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border-radius: var(--border-radius);
            border: 1px solid var(--glass-border);
            padding: 24px;
            transition: var(--transition);
        }

        .recommendation-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--glass-shadow);
        }

        .recommendation-header {
            display: flex;
            justify-content: between;
            align-items: start;
            margin-bottom: 16px;
        }

        .recommendation-title {
            font-size: 18px;
            font-weight: 600;
        }

        .recommendation-rating {
            display: flex;
            align-items: center;
            gap: 4px;
            color: var(--accent-orange);
        }

        .recommendation-details {
            color: var(--text-secondary);
            margin-bottom: 16px;
            line-height: 1.5;
        }

        .recommendation-link {
            color: var(--primary-blue);
            text-decoration: none;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 6px;
        }

        /* Footer */
        footer {
            background-color: var(--bg-secondary);
            padding: 60px 0 30px;
            border-top: 1px solid var(--glass-border);
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
        }

        .footer-column h3 {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 20px;
        }

        .footer-links {
            list-style: none;
        }

        .footer-links li {
            margin-bottom: 12px;
        }

        .footer-links a {
            color: var(--text-secondary);
            text-decoration: none;
            font-size: 14px;
            transition: var(--transition);
        }

        .footer-links a:hover {
            color: var(--primary-blue);
        }

        .footer-bottom {
            text-align: center;
            padding-top: 30px;
            border-top: 1px solid var(--glass-border);
            color: var(--text-secondary);
            font-size: 14px;
        }

        /* Utility Classes */
        .hidden {
            display: none !important;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Responsive */
        @media (max-width: 768px) {
            .hero h1 {
                font-size: 48px;
            }
            
            .hero p {
                font-size: 20px;
            }
            
            .section-title {
                font-size: 36px;
            }
            
            .survey-container {
                padding: 30px 20px;
            }
            
            .survey-options {
                grid-template-columns: 1fr;
            }
            
            .destination-title {
                font-size: 36px;
            }
            
            .itinerary-actions {
                flex-direction: column;
                align-items: center;
            }
            
            .testimonials-grid,
            .restaurant-grid,
            .services-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container nav-container">
            <a href="#" class="logo">
                <div class="logo-icon">
                    <i class="fas fa-map-marked-alt"></i>
                </div>
                TravelAI
            </a>
            <ul class="nav-links">
                <li><a href="#testimonials">Testimonios</a></li>
                <li><a href="#services">Servicios</a></li>
                <li><a href="#survey">Planificar</a></li>
            </ul>
            <button class="theme-toggle" id="themeToggle">
                <i class="fas fa-moon"></i>
            </button>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container hero-content">
            <h1>Planifica tu viaje perfecto con IA</h1>
            <p>Itinerarios personalizados con recomendaciones reales analizadas por reseñas. Vuelos, hoteles y tours con los mejores precios.</p>
            <button class="cta-button" id="startSurvey">
                <i class="fas fa-magic"></i>
                Comenzar Planificación
            </button>
        </div>
    </section>

    <!-- Testimonials Section -->
    <section class="testimonials" id="testimonials">
        <div class="container">
            <h2 class="section-title">Lo que dicen nuestros viajeros</h2>
            <div class="testimonials-grid">
                <div class="testimonial-card">
                    <div class="testimonial-content">
                        "TravelAI revolucionó cómo planifico mis viajes. Las recomendaciones de restaurantes analizadas por reseñas reales son increíblemente precisas. ¡Encontré joyas culinarias que nunca hubiera descubierto por mi cuenta!"
                    </div>
                    <div class="testimonial-author">
                        <div class="author-avatar">MC</div>
                        <div class="author-info">
                            <h4>María González</h4>
                            <p>Viajera frecuente</p>
                            <div class="rating">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="testimonial-card">
                    <div class="testimonial-content">
                        "La integración con Ryanair, Booking y Civitatis hace que reservar todo sea tan fácil. Ahorré más de 200€ en mi último viaje gracias a las recomendaciones de la IA. ¡Totalmente recomendado!"
                    </div>
                    <div class="testimonial-author">
                        <div class="author-avatar">CR</div>
                        <div class="author-info">
                            <h4>Carlos Rodríguez</h4>
                            <p>Mochilero profesional</p>
                            <div class="rating">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="testimonial-card">
                    <div class="testimonial-content">
                        "Como familia, encontrar actividades que gusten a todos es difícil. TravelAI creó un itinerario perfecto que encantó tanto a mis hijos como a nosotros. Los restaurantes familiares que recomendó fueron un éxito total."
                    </div>
                    <div class="testimonial-author">
                        <div class="author-avatar">LM</div>
                        <div class="author-info">
                            <h4>Laura Martínez</h4>
                            <p>Madre viajera</p>
                            <div class="rating">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Travel Services -->
    <section class="travel-services" id="services">
        <div class="container">
            <h2 class="section-title">Servicios de Viaje Integrados</h2>
            <div class="services-grid">
                <div class="service-card">
                    <div class="service-icon">
                        <i class="fas fa-plane"></i>
                    </div>
                    <h3 class="service-title">Vuelos Ryanair</h3>
                    <p class="service-description">Encuentra las mejores ofertas de vuelos low-cost analizando precios y rutas optimizadas para tu destino.</p>
                    <a href="https://www.ryanair.com" target="_blank" class="service-link">
                        Buscar vuelos
                        <i class="fas fa-external-link-alt"></i>
                    </a>
                </div>
                <div class="service-card">
                    <div class="service-icon">
                        <i class="fas fa-hotel"></i>
                    </div>
                    <h3 class="service-title">Hoteles Booking</h3>
                    <p class="service-description">Alojamientos perfectos según tu presupuesto y preferencias, con cancelación gratuita y mejores precios.</p>
                    <a href="https://www.booking.com" target="_blank" class="service-link">
                        Ver alojamientos
                        <i class="fas fa-external-link-alt"></i>
                    </a>
                </div>
                <div class="service-card">
                    <div class="service-icon">
                        <i class="fas fa-map-marked-alt"></i>
                    </div>
                    <h3 class="service-title">Tours Civitatis</h3>
                    <p class="service-description">Experiencias y tours guiados con las mejores valoraciones para descubrir cada destino como local.</p>
                    <a href="https://www.civitatis.com" target="_blank" class="service-link">
                        Explorar tours
                        <i class="fas fa-external-link-alt"></i>
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Restaurant Recommendations -->
    <section class="restaurant-recommendations">
        <div class="container">
            <h2 class="section-title">Restaurantes Analizados por Reseñas</h2>
            <p style="text-align: center; color: var(--text-secondary); margin-bottom: 50px; font-size: 18px;">
                Nuestra IA analiza miles de reseñas reales para recomendarte los mejores restaurantes
            </p>
            <div class="restaurant-grid" id="restaurantGrid">
                <!-- Restaurant recommendations will be loaded here -->
            </div>
        </div>
    </section>

    <!-- Survey Section -->
    <section class="survey" id="survey">
        <div class="container">
            <h2 class="section-title">Personaliza tu experiencia</h2>
            <div class="survey-container">
                <!-- Step 1: Travel Type -->
                <div class="survey-step active" id="step1">
                    <h3 class="survey-question">¿Qué tipo de viaje prefieres?</h3>
                    <div class="survey-options">
                        <div class="survey-option" data-value="cultural">
                            <i class="fas fa-landmark"></i>
                            <p>Cultural</p>
                        </div>
                        <div class="survey-option" data-value="adventure">
                            <i class="fas fa-hiking"></i>
                            <p>Aventura</p>
                        </div>
                        <div class="survey-option" data-value="relaxation">
                            <i class="fas fa-umbrella-beach"></i>
                            <p>Relajación</p>
                        </div>
                        <div class="survey-option" data-value="urban">
                            <i class="fas fa-city"></i>
                            <p>Urbano</p>
                        </div>
                    </div>
                    <div class="survey-navigation">
                        <button class="survey-btn outline" disabled>
                            <i class="fas fa-arrow-left"></i>
                            Atrás
                        </button>
                        <button class="survey-btn" id="nextStep1">
                            Continuar
                            <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                </div>

                <!-- Step 2: Budget -->
                <div class="survey-step" id="step2">
                    <h3 class="survey-question">¿Cuál es tu presupuesto?</h3>
                    <div class="survey-options">
                        <div class="survey-option" data-value="budget">
                            <i class="fas fa-euro-sign"></i>
                            <p>Económico</p>
                        </div>
                        <div class="survey-option" data-value="moderate">
                            <i class="fas fa-euro-sign"></i>
                            <i class="fas fa-euro-sign"></i>
                            <p>Moderado</p>
                        </div>
                        <div class="survey-option" data-value="luxury">
                            <i class="fas fa-euro-sign"></i>
                            <i class="fas fa-euro-sign"></i>
                            <i class="fas fa-euro-sign"></i>
                            <p>Lujo</p>
                        </div>
                    </div>
                    <div class="survey-navigation">
                        <button class="survey-btn outline" id="backStep2">
                            <i class="fas fa-arrow-left"></i>
                            Atrás
                        </button>
                        <button class="survey-btn" id="nextStep2">
                            Continuar
                            <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                </div>

                <!-- Step 3: Duration -->
                <div class="survey-step" id="step3">
                    <h3 class="survey-question">¿Cuántos días?</h3>
                    <div class="survey-options">
                        <div class="survey-option" data-value="weekend">
                            <i class="fas fa-calendar-day"></i>
                            <p>2-3 días</p>
                        </div>
                        <div class="survey-option" data-value="week">
                            <i class="fas fa-calendar-week"></i>
                            <p>4-7 días</p>
                        </div>
                        <div class="survey-option" data-value="extended">
                            <i class="fas fa-calendar-alt"></i>
                            <p>8+ días</p>
                        </div>
                    </div>
                    <div class="survey-navigation">
                        <button class="survey-btn outline" id="backStep3">
                            <i class="fas fa-arrow-left"></i>
                            Atrás
                        </button>
                        <button class="survey-btn" id="nextStep3">
                            Continuar
                            <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                </div>

                <!-- Step 4: Travelers -->
                <div class="survey-step" id="step4">
                    <h3 class="survey-question">¿Con quién viajas?</h3>
                    <div class="survey-options">
                        <div class="survey-option" data-value="solo">
                            <i class="fas fa-user"></i>
                            <p>Solo</p>
                        </div>
                        <div class="survey-option" data-value="couple">
                            <i class="fas fa-heart"></i>
                            <p>Pareja</p>
                        </div>
                        <div class="survey-option" data-value="family">
                            <i class="fas fa-users"></i>
                            <p>Familia</p>
                        </div>
                        <div class="survey-option" data-value="friends">
                            <i class="fas fa-user-friends"></i>
                            <p>Amigos</p>
                        </div>
                    </div>
                    <div class="survey-navigation">
                        <button class="survey-btn outline" id="backStep4">
                            <i class="fas fa-arrow-left"></i>
                            Atrás
                        </button>
                        <button class="survey-btn" id="nextStep4">
                            Continuar
                            <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                </div>

                <!-- Step 5: Destination -->
                <div class="survey-step" id="step5">
                    <h3 class="survey-question">¿A dónde quieres viajar?</h3>
                    <div class="destination-input-container">
                        <input type="text" class="destination-input" id="destinationInput" placeholder="Escribe una ciudad, país o lugar famoso...">
                        <div class="suggestions-container" id="suggestionsContainer"></div>
                    </div>
                    <div class="popular-destinations">
                        <h4 style="text-align: center; margin-bottom: 16px; color: var(--text-secondary);">Destinos populares:</h4>
                        <div style="display: flex; flex-wrap: wrap; gap: 10px; justify-content: center;">
                            <span class="destination-chip" data-destination="París, Francia">París</span>
                            <span class="destination-chip" data-destination="Londres, Reino Unido">Londres</span>
                            <span class="destination-chip" data-destination="Tokio, Japón">Tokio</span>
                            <span class="destination-chip" data-destination="Nueva York, USA">Nueva York</span>
                            <span class="destination-chip" data-destination="Roma, Italia">Roma</span>
                            <span class="destination-chip" data-destination="Barcelona, España">Barcelona</span>
                        </div>
                    </div>
                    <div class="survey-navigation">
                        <button class="survey-btn outline" id="backStep5">
                            <i class="fas fa-arrow-left"></i>
                            Atrás
                        </button>
                        <button class="survey-btn" id="generateItinerary">
                            <i class="fas fa-magic"></i>
                            Generar Itinerario
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Results Section -->
    <section class="results" id="resultsSection">
        <div class="container">
            <div class="results-header">
                <h2 class="destination-title" id="destinationTitle">Tu Itinerario Personalizado</h2>
                <p id="itineraryDescription">Itinerario creado específicamente para ti</p>
                <div class="itinerary-actions">
                    <button class="action-btn primary" onclick="downloadItinerary()">
                        <i class="fas fa-download"></i>
                        Descargar PDF
                    </button>
                    <button class="action-btn secondary" onclick="editItinerary()">
                        <i class="fas fa-edit"></i>
                        Editar Itinerario
                    </button>
                    <button class="action-btn secondary" onclick="regenerateItinerary()">
                        <i class="fas fa-sync"></i>
                        Regenerar
                    </button>
                </div>
            </div>

            <div class="itinerary-editor" id="itineraryEditor">
                <!-- Itinerary content will be generated here -->
            </div>

            <h3 class="section-title">Recomendaciones Personalizadas</h3>
            <div class="recommendations-grid" id="recommendationsGrid">
                <!-- Recommendations will be generated here -->
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>TravelAI</h3>
                    <ul class="footer-links">
                        <li><a href="#">Cómo funciona</a></li>
                        <li><a href="#">Nuestra tecnología</a></li>
                        <li><a href="#">Equipo</a></li>
                        <li><a href="#">Carreras</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Destinos</h3>
                    <ul class="footer-links">
                        <li><a href="#">Europa</a></li>
                        <li><a href="#">América</a></li>
                        <li><a href="#">Asia</a></li>
                        <li><a href="#">Oceanía</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Ayuda</h3>
                    <ul class="footer-links">
                        <li><a href="#">Centro de ayuda</a></li>
                        <li><a href="#">Contacto</a></li>
                        <li><a href="#">Política de privacidad</a></li>
                        <li><a href="#">Términos de uso</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Síguenos</h3>
                    <ul class="footer-links">
                        <li><a href="#"><i class="fab fa-twitter"></i> Twitter</a></li>
                        <li><a href="#"><i class="fab fa-instagram"></i> Instagram</a></li>
                        <li><a href="#"><i class="fab fa-facebook"></i> Facebook</a></li>
                        <li><a href="#"><i class="fab fa-linkedin"></i> LinkedIn</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 TravelAI. Todos los derechos reservados. | Planificación inteligente de viajes con IA</p>
            </div>
        </div>
    </footer>

    <script>
        // ===============================
        // CONFIGURACIÓN Y VARIABLES GLOBALES
        // ===============================

        // Estado de la aplicación
        const appState = {
            currentStep: 1,
            userSelections: {
                travelType: '',
                budget: '',
                duration: '',
                travelers: '',
                destination: ''
            },
            currentItinerary: null
        };

        // Base de datos de restaurantes con análisis de reseñas
        const restaurantDatabase = {
            'París': [
                {
                    name: "Le Petit Marché",
                    rating: 4.8,
                    type: "Francesa • Contemporánea",
                    price: "€€",
                    description: "Acogedor restaurante con ingredientes locales frescos. Las reseñas destacan su servicio excepcional y platos creativos.",
                    reviews: [
                        "La mejor comida que probé en París. El chef personaliza cada plato.",
                        "Servicio impecable y vino de la casa excelente. Volveré seguro.",
                        "Ambiente íntimo perfecto para cenas románticas."
                    ],
                    mapLink: "https://maps.google.com/?q=Le+Petit+Marché+Paris"
                },
                {
                    name: "Bistrot Belhara",
                    rating: 4.6,
                    type: "Bistrot • Tradicional",
                    price: "€€",
                    description: "Auténtico bistrot parisino con clásicos franceses reinventados. Reseñas elogian su autenticidad y relación calidad-precio.",
                    reviews: [
                        "El confit de pato es increíble. Sabe como en la campiña francesa.",
                        "Precisión en cada detalle. Los postres son obras de arte.",
                        "Local frecuentado por parisinos, señal de calidad auténtica."
                    ],
                    mapLink: "https://maps.google.com/?q=Bistrot+Belhara+Paris"
                }
            ],
            'Londres': [
                {
                    name: "Dishoom Covent Garden",
                    rating: 4.7,
                    type: "India • Iraní",
                    price: "€€",
                    description: "Famoso por su desayuno iraní y cena india. Reseñas destacan ambiente vibrante y sabores auténticos.",
                    reviews: [
                        "El bacon naan roll cambió mi vida. Colas que valen la pena.",
                        "Cócteles creativos y servicio rápido a pesar de estar siempre lleno.",
                        "La mejor experiencia india fuera de India."
                    ],
                    mapLink: "https://maps.google.com/?q=Dishoom+Covent+Garden+London"
                },
                {
                    name: "The Palomar",
                    rating: 4.5,
                    type: "Mediterránea • Moderna",
                    price: "€€€",
                    description: "Cocina mediterránea moderna en ambiente animado. Reseñas elogian su barra y platos para compartir.",
                    reviews: [
                        "El pulpo es divino. Perfecto para cenas en grupo.",
                        "Energía increíble y platos llenos de sabor.",
                        "Reserva con semanas de anticipación pero vale cada minuto de espera."
                    ],
                    mapLink: "https://maps.google.com/?q=The+Palomar+London"
                }
            ],
            'general': [
                {
                    name: "La Terraza del Mercado",
                    rating: 4.4,
                    type: "Local • Mercado",
                    price: "€",
                    description: "Comida local auténtica en ambiente de mercado. Reseñas destacan frescura y autenticidad.",
                    reviews: [
                        "Donde comen los locales. Precios justos y calidad excelente.",
                        "Ingredientes más frescos imposible. Directo del mercado.",
                        "El sitio perfecto para probar la verdadera cocina local."
                    ],
                    mapLink: "https://maps.google.com/?q=mercado+local"
                },
                {
                    name: "Bistro Moderno",
                    rating: 4.3,
                    type: "Fusión • Internacional",
                    price: "€€",
                    description: "Cocina fusión con toques locales. Reseñas elogian presentación creativa y sabores equilibrados.",
                    reviews: [
                        "Cada plato es una sorpresa agradable. Muy Instagrameable.",
                        "Chef joven con ideas frescas. Volveré para probar el menú degustación.",
                        "Perfecto balance entre tradición e innovación."
                    ],
                    mapLink: "https://maps.google.com/?q=bistro+moderno"
                }
            ]
        };

        // ===============================
        // MANEJO DE TEMA OSCURO/CLARO
        // ===============================

        const themeToggle = document.getElementById('themeToggle');
        const themeIcon = themeToggle.querySelector('i');

        // Verificar preferencia guardada o del sistema
        if (localStorage.getItem('theme') === 'dark' || 
            (window.matchMedia('(prefers-color-scheme: dark)').matches && !localStorage.getItem('theme'))) {
            document.body.classList.add('dark-mode');
            themeIcon.classList.remove('fa-moon');
            themeIcon.classList.add('fa-sun');
        }

        themeToggle.addEventListener('click', () => {
            document.body.classList.toggle('dark-mode');
            if (document.body.classList.contains('dark-mode')) {
                themeIcon.classList.remove('fa-moon');
                themeIcon.classList.add('fa-sun');
                localStorage.setItem('theme', 'dark');
            } else {
                themeIcon.classList.remove('fa-sun');
                themeIcon.classList.add('fa-moon');
                localStorage.setItem('theme', 'light');
            }
        });

        // ===============================
        // CARGA DE RECOMENDACIONES DE RESTAURANTES
        // ===============================

        function loadRestaurantRecommendations() {
            const grid = document.getElementById('restaurantGrid');
            let html = '';

            // Combinar restaurantes específicos y generales
            const allRestaurants = [
                ...restaurantDatabase['París'],
                ...restaurantDatabase['Londres'], 
                ...restaurantDatabase['general']
            ];

            allRestaurants.forEach(restaurant => {
                html += `
                    <div class="restaurant-card">
                        <div class="restaurant-header">
                            <div>
                                <h3 class="restaurant-name">${restaurant.name}</h3>
                                <p class="restaurant-details">${restaurant.type} • ${restaurant.price}</p>
                            </div>
                            <div class="restaurant-rating">
                                <i class="fas fa-star"></i>
                                ${restaurant.rating}
                            </div>
                        </div>
                        <p class="restaurant-details">${restaurant.description}</p>
                        <div class="restaurant-reviews">
                            ${restaurant.reviews.map(review => `
                                <p class="review-excerpt">"${review}"</p>
                            `).join('')}
                        </div>
                        <a href="${restaurant.mapLink}" target="_blank" class="restaurant-link">
                            Ver ubicación y más reseñas
                            <i class="fas fa-external-link-alt"></i>
                        </a>
                    </div>
                `;
            });

            grid.innerHTML = html;
        }

        // ===============================
        // NAVEGACIÓN DE ENCUESTA
        // ===============================

        // Mostrar paso específico
        function showStep(stepNumber) {
            // Ocultar todos los pasos
            document.querySelectorAll('.survey-step').forEach(step => {
                step.classList.remove('active');
            });

            // Mostrar paso actual
            document.getElementById(`step${stepNumber}`).classList.add('active');
            appState.currentStep = stepNumber;

            // Scroll suave a la sección de encuesta si no está visible
            if (stepNumber === 1) {
                document.getElementById('survey').scrollIntoView({ behavior: 'smooth' });
            }
        }

        // Manejar selección de opciones
        document.querySelectorAll('.survey-option').forEach(option => {
            option.addEventListener('click', function() {
                const step = this.closest('.survey-step');
                const options = step.querySelectorAll('.survey-option');
                
                // Remover selección anterior
                options.forEach(opt => opt.classList.remove('selected'));
                
                // Seleccionar actual
                this.classList.add('selected');
                
                // Guardar selección
                const stepId = step.id;
                const value = this.getAttribute('data-value');
                
                switch(stepId) {
                    case 'step1':
                        appState.userSelections.travelType = value;
                        break;
                    case 'step2':
                        appState.userSelections.budget = value;
                        break;
                    case 'step3':
                        appState.userSelections.duration = value;
                        break;
                    case 'step4':
                        appState.userSelections.travelers = value;
                        break;
                }
            });
        });

        // Configurar navegación entre pasos
        document.getElementById('startSurvey').addEventListener('click', () => {
            showStep(1);
        });

        document.getElementById('nextStep1').addEventListener('click', () => {
            if (appState.userSelections.travelType) showStep(2);
        });

        document.getElementById('nextStep2').addEventListener('click', () => {
            if (appState.userSelections.budget) showStep(3);
        });

        document.getElementById('nextStep3').addEventListener('click', () => {
            if (appState.userSelections.duration) showStep(4);
        });

        document.getElementById('nextStep4').addEventListener('click', () => {
            if (appState.userSelections.travelers) showStep(5);
        });

        // Botones de retroceso
        document.getElementById('backStep2').addEventListener('click', () => showStep(1));
        document.getElementById('backStep3').addEventListener('click', () => showStep(2));
        document.getElementById('backStep4').addEventListener('click', () => showStep(3));
        document.getElementById('backStep5').addEventListener('click', () => showStep(4));

        // ===============================
        // MANEJO DE DESTINOS
        // ===============================

        const destinationInput = document.getElementById('destinationInput');
        const suggestionsContainer = document.getElementById('suggestionsContainer');

        // Chips de destinos populares
        document.querySelectorAll('.destination-chip').forEach(chip => {
            chip.addEventListener('click', function() {
                const destination = this.getAttribute('data-destination');
                destinationInput.value = destination;
                appState.userSelections.destination = destination;
            });
        });

        // Auto-sugerencias cuando se escribe
        destinationInput.addEventListener('input', function() {
            const query = this.value.trim();
            appState.userSelections.destination = query;
            
            if (query.length < 2) {
                suggestionsContainer.style.display = 'none';
                return;
            }

            // Generar sugerencias basadas en la consulta
            const suggestions = generateDestinationSuggestions(query);
            displaySuggestions(suggestions);
        });

        // Permitir Enter para generar itinerario
        destinationInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                document.getElementById('generateItinerary').click();
            }
        });

        function generateDestinationSuggestions(query) {
            const allDestinations = [
                'París, Francia', 'Londres, Reino Unido', 'Tokio, Japón', 
                'Nueva York, USA', 'Roma, Italia', 'Barcelona, España',
                'Berlín, Alemania', 'Ámsterdam, Países Bajos', 'Praga, República Checa',
                'Viena, Austria', 'Budapest, Hungría', 'Lisboa, Portugal',
                'Madrid, España', 'Florencia, Italia', 'Venecia, Italia',
                'Estambul, Turquía', 'Dubái, Emiratos Árabes', 'Singapur, Singapur',
                'Bangkok, Tailandia', 'Seúl, Corea del Sur', 'Hong Kong, China',
                'Sídney, Australia', 'Melbourne, Australia', 'Auckland, Nueva Zelanda',
                'Toronto, Canadá', 'Vancouver, Canadá', 'Ciudad de México, México',
                'Buenos Aires, Argentina', 'Río de Janeiro, Brasil', 'Lima, Perú',
                'Santiago, Chile', 'Bogotá, Colombia'
            ];

            return allDestinations.filter(dest => 
                dest.toLowerCase().includes(query.toLowerCase())
            ).slice(0, 5);
        }

        function displaySuggestions(suggestions) {
            suggestionsContainer.innerHTML = '';
            
            if (suggestions.length === 0) {
                suggestionsContainer.style.display = 'none';
                return;
            }

            suggestions.forEach(suggestion => {
                const item = document.createElement('div');
                item.className = 'suggestion-item';
                item.textContent = suggestion;
                item.addEventListener('click', () => {
                    destinationInput.value = suggestion;
                    appState.userSelections.destination = suggestion;
                    suggestionsContainer.style.display = 'none';
                });
                suggestionsContainer.appendChild(item);
            });
            
            suggestionsContainer.style.display = 'block';
        }

        // Ocultar sugerencias al hacer clic fuera
        document.addEventListener('click', (e) => {
            if (!destinationInput.contains(e.target) && !suggestionsContainer.contains(e.target)) {
                suggestionsContainer.style.display = 'none';
            }
        });

        // ===============================
        // GENERACIÓN DE ITINERARIO
        // ===============================

        document.getElementById('generateItinerary').addEventListener('click', async function() {
            // Validar que se haya ingresado un destino
            if (!appState.userSelections.destination || appState.userSelections.destination.trim() === '') {
                alert('Por favor, escribe o selecciona un destino');
                destinationInput.focus();
                return;
            }

            // Validar que todos los campos estén completos
            const requiredFields = ['travelType', 'budget', 'duration', 'travelers'];
            const missingFields = requiredFields.filter(field => !appState.userSelections[field]);
            
            if (missingFields.length > 0) {
                alert('Por favor, completa todos los pasos de la encuesta antes de generar el itinerario');
                showStep(1);
                return;
            }

            const button = this;
            const originalText = button.innerHTML;
            button.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Generando itinerario...';
            button.disabled = true;

            try {
                // Simular procesamiento
                await new Promise(resolve => setTimeout(resolve, 2000));
                
                const itinerary = await generateItinerary(appState.userSelections);
                appState.currentItinerary = itinerary;
                displayItinerary(itinerary);
                
                // Mostrar sección de resultados
                document.getElementById('survey').style.display = 'none';
                document.getElementById('resultsSection').classList.add('active');
                document.getElementById('resultsSection').scrollIntoView({ behavior: 'smooth' });

                // Cargar recomendaciones personalizadas
                await loadPersonalizedRecommendations(appState.userSelections);
                
            } catch (error) {
                console.error('Error generando itinerario:', error);
                alert('Error al generar el itinerario. Por favor, intenta de nuevo.');
            } finally {
                button.innerHTML = originalText;
                button.disabled = false;
            }
        });

        async function generateItinerary(selections) {
            // Mapeo de duración a días
            const durationMap = {
                'weekend': 3,
                'week': 7,
                'extended': 10
            };

            const totalDays = durationMap[selections.duration] || 5;
            const destinationName = selections.destination.split(',')[0];

            // Generar días del itinerario
            const days = [];
            for (let i = 1; i <= totalDays; i++) {
                days.push(generateDayActivities(i, selections));
            }

            return {
                destination: selections.destination,
                travelType: selections.travelType,
                budget: selections.budget,
                duration: selections.duration,
                travelers: selections.travelers,
                totalDays: totalDays,
                days: days,
                generatedAt: new Date().toISOString()
            };
        }

        function generateDayActivities(dayNumber, selections) {
            const destinationName = selections.destination.split(',')[0];
            
            const dayTemplates = {
                cultural: [
                    { time: '09:00', title: 'Visita a museo destacado', description: 'Exploración de museos y galerías de arte locales', duration: '3h' },
                    { time: '13:00', title: 'Almuerzo tradicional', description: 'Comida en restaurante típico de la región', duration: '1.5h' },
                    { time: '15:00', title: 'Tour histórico guiado', description: 'Recorrido por los sitios históricos más importantes', duration: '3h' },
                    { time: '19:00', title: 'Cena cultural', description: 'Experiencia gastronómica con música y danza local', duration: '2h' }
                ],
                adventure: [
                    { time: '08:00', title: 'Actividad de aventura matutina', description: 'Excursión o deporte aventurero en la naturaleza', duration: '4h' },
                    { time: '13:00', title: 'Almuerzo campestre', description: 'Comida al aire libre con vistas panorámicas', duration: '1h' },
                    { time: '15:00', title: 'Exploración natural', description: 'Senderismo por rutas escénicas o reservas naturales', duration: '3h' },
                    { time: '18:00', title: 'Relax al atardecer', description: 'Tiempo para descansar y disfrutar del paisaje', duration: '2h' }
                ],
                relaxation: [
                    { time: '10:00', title: 'Spa o tiempo en la playa', description: 'Sesión de relax y bienestar en entorno tranquilo', duration: '3h' },
                    { time: '13:00', title: 'Almuerzo tranquilo', description: 'Comida saludable en ambiente relajado y sereno', duration: '2h' },
                    { time: '16:00', title: 'Paseo tranquilo', description: 'Caminata relajante por jardines o zonas peatonales', duration: '2h' },
                    { time: '19:00', title: 'Cena con vistas', description: 'Cena en restaurante con ambiente calmado y vistas', duration: '2h' }
                ],
                urban: [
                    { time: '10:00', title: 'Tour urbano por la ciudad', description: 'Recorrido por los principales puntos de interés urbano', duration: '3h' },
                    { time: '13:00', title: 'Almuerzo urbano', description: 'Comida en restaurante de moda en distrito gastronómico', duration: '1.5h' },
                    { time: '15:00', title: 'Compras y cultura local', description: 'Tiempo libre para explorar tiendas y galerías', duration: '3h' },
                    { time: '19:30', title: 'Vida nocturna', description: 'Experiencia en bar o club local recomendado', duration: '3h' }
                ]
            };

            const activities = (dayTemplates[selections.travelType] || dayTemplates.cultural)
                .map(activity => ({
                    ...activity,
                    id: generateId(),
                    editable: true
                }));

            // Personalizar el primer día con actividades de llegada
            if (dayNumber === 1) {
                activities.unshift({
                    id: generateId(),
                    time: '14:00',
                    title: 'Llegada y check-in',
                    description: `Bienvenida a ${destinationName} y registro en el alojamiento`,
                    duration: '2h',
                    editable: true
                });
            }

            // Personalizar el último día con actividades de salida
            if (dayNumber === selections.durationMap) {
                activities.push({
                    id: generateId(),
                    time: '16:00',
                    title: 'Preparativos para salida',
                    description: 'Check-out y traslado al aeropuerto/estación',
                    duration: '3h',
                    editable: true
                });
            }
            
            return {
                dayNumber: dayNumber,
                title: `Día ${dayNumber}: Explorando ${destinationName}`,
                activities: activities
            };
        }

        function generateId() {
            return 'activity_' + Math.random().toString(36).substr(2, 9);
        }

        // ===============================
        // VISUALIZACIÓN DE ITINERARIO
        // ===============================

        function displayItinerary(itinerary) {
            const editor = document.getElementById('itineraryEditor');
            const title = document.getElementById('destinationTitle');
            const description = document.getElementById('itineraryDescription');

            title.textContent = `Tu Viaje a ${itinerary.destination}`;
            
            const typeMap = {
                'cultural': 'Cultural',
                'adventure': 'Aventura', 
                'relaxation': 'Relajación',
                'urban': 'Urbano'
            };
            
            const travelerMap = {
                'solo': 'viajero solitario',
                'couple': 'pareja',
                'family': 'familia', 
                'friends': 'grupo de amigos'
            };

            description.textContent = `${itinerary.totalDays} días de experiencias ${typeMap[itinerary.travelType]} para ${travelerMap[itinerary.travelers]}`;

            let html = '';
            
            itinerary.days.forEach(day => {
                html += `
                    <div class="day-section">
                        <div class="day-header">
                            <h3 class="day-title">${day.title}</h3>
                        </div>
                        <div class="activities-list">
                            ${day.activities.map(activity => `
                                <div class="activity-item" data-activity-id="${activity.id}">
                                    <div class="activity-header">
                                        <div class="activity-time">${activity.time} • ${activity.duration}</div>
                                        <div class="activity-actions">
                                            <button class="icon-btn" onclick="editActivity('${activity.id}')">
                                                <i class="fas fa-edit"></i>
                                            </button>
                                            <button class="icon-btn" onclick="removeActivity('${activity.id}')">
                                                <i class="fas fa-trash"></i>
                                            </button>
                                        </div>
                                    </div>
                                    <div class="activity-details">
                                        <h4>${activity.title}</h4>
                                        <p>${activity.description}</p>
                                        <a href="#" class="activity-link" onclick="searchPlace('${activity.title} ${itinerary.destination}')">
                                            Buscar en maps
                                            <i class="fas fa-external-link-alt"></i>
                                        </a>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                        <div class="add-activity">
                            <button class="survey-btn outline" onclick="addActivity(${day.dayNumber})">
                                <i class="fas fa-plus"></i>
                                Añadir Actividad
                            </button>
                        </div>
                    </div>
                `;
            });

            editor.innerHTML = html;
        }

        // ===============================
        // RECOMENDACIONES PERSONALIZADAS
        // ===============================

        async function loadPersonalizedRecommendations(selections) {
            const grid = document.getElementById('recommendationsGrid');
            grid.innerHTML = '<p style="text-align: center; color: var(--text-secondary);">Analizando las mejores opciones para ti...</p>';

            try {
                await new Promise(resolve => setTimeout(resolve, 1500));

                const destinationName = selections.destination.split(',')[0];
                const budgetParam = selections.budget === 'luxury' ? 'lujo' : selections.budget === 'moderate' ? 'moderado' : 'económico';
                const travelersParam = selections.travelers === 'solo' ? 'solo' : selections.travelers === 'couple' ? 'pareja' : selections.travelers === 'family' ? 'familia' : 'grupo';

                const recommendations = [
                    {
                        title: 'Vuelos Ryanair Recomendados',
                        description: `Vuelos optimizados para ${travelersParam} con ${selections.destination}. Precios analizados para presupuesto ${budgetParam}.`,
                        rating: '4.2/5',
                        link: `https://www.ryanair.com/gb/en/cheap-flights/?destination=${encodeURIComponent(selections.destination)}`,
                        icon: 'fas fa-plane'
                    },
                    {
                        title: 'Hoteles Booking Seleccionados',
                        description: `Alojamientos con mejores reseñas para ${travelersParam}. Cancelación gratuita y precios competitivos.`,
                        rating: '4.5/5', 
                        link: `https://www.booking.com/searchresults.es.html?ss=${encodeURIComponent(selections.destination)}`,
                        icon: 'fas fa-hotel'
                    },
                    {
                        title: 'Tours Civitatis Destacados',
                        description: `Experiencias mejor valoradas en ${destinationName}. Guías locales y grupos pequeños.`,
                        rating: '4.7/5',
                        link: `https://www.civitatis.com/es/${getCivitatisDestination(destinationName)}/`,
                        icon: 'fas fa-map-marked-alt'
                    },
                    {
                        title: 'Restaurantes con Mejores Reseñas',
                        description: `Selección basada en análisis de +1000 reseñas reales en ${destinationName}.`,
                        rating: '4.6/5',
                        link: `https://www.google.com/maps/search/restaurantes+${encodeURIComponent(selections.destination)}`,
                        icon: 'fas fa-utensils'
                    }
                ];

                let html = '';
                recommendations.forEach(rec => {
                    html += `
                        <div class="recommendation-card">
                            <div class="recommendation-header">
                                <h4 class="recommendation-title">${rec.title}</h4>
                                <div class="recommendation-rating">
                                    <i class="fas fa-star"></i>
                                    <span>${rec.rating}</span>
                                </div>
                            </div>
                            <div class="recommendation-details">
                                <p>${rec.description}</p>
                                <p><i class="${rec.icon}"></i> Recomendación personalizada para tu perfil</p>
                            </div>
                            <a href="${rec.link}" target="_blank" class="recommendation-link">
                                Ver opciones recomendadas
                                <i class="fas fa-arrow-right"></i>
                            </a>
                        </div>
                    `;
                });

                grid.innerHTML = html;
            } catch (error) {
                console.error('Error cargando recomendaciones:', error);
                grid.innerHTML = '<p style="text-align: center; color: var(--text-secondary);">No se pudieron cargar las recomendaciones personalizadas.</p>';
            }
        }

        function getCivitatisDestination(destinationName) {
            const civitatisMap = {
                'París': 'paris',
                'Londres': 'londres', 
                'Roma': 'roma',
                'Barcelona': 'barcelona',
                'Madrid': 'madrid',
                'Berlín': 'berlin',
                'Ámsterdam': 'amsterdam',
                'Praga': 'praga',
                'Budapest': 'budapest',
                'Viena': 'viena'
            };
            return civitatisMap[destinationName] || destinationName.toLowerCase();
        }

        // ===============================
        // FUNCIONES DE EDICIÓN
        // ===============================

        function editItinerary() {
            alert('Modo edición activado. Haz clic en los iconos de edición para modificar actividades.');
        }

        function editActivity(activityId) {
            const activityElement = document.querySelector(`[data-activity-id="${activityId}"]`);
            const title = activityElement.querySelector('h4').textContent;
            const description = activityElement.querySelector('p').textContent;
            const time = activityElement.querySelector('.activity-time').textContent.split(' • ')[0];
            
            const newTime = prompt('Editar hora:', time);
            const newTitle = prompt('Editar título:', title);
            const newDescription = prompt('Editar descripción:', description);
            
            if (newTime !== null) {
                activityElement.querySelector('.activity-time').textContent = `${newTime} • ${activityElement.querySelector('.activity-time').textContent.split(' • ')[1]}`;
            }
            if (newTitle !== null) {
                activityElement.querySelector('h4').textContent = newTitle;
            }
            if (newDescription !== null) {
                activityElement.querySelector('p').textContent = newDescription;
            }
        }

        function removeActivity(activityId) {
            if (confirm('¿Estás seguro de que quieres eliminar esta actividad?')) {
                const activityElement = document.querySelector(`[data-activity-id="${activityId}"]`);
                activityElement.remove();
            }
        }

        function addActivity(dayNumber) {
            const newActivity = {
                id: generateId(),
                time: '14:00',
                title: 'Nueva Actividad Personalizada',
                description: 'Describe tu actividad personalizada aquí',
                duration: '2h',
                editable: true
            };

            const newActivityHTML = `
                <div class="activity-item" data-activity-id="${newActivity.id}">
                    <div class="activity-header">
                        <div class="activity-time">${newActivity.time} • ${newActivity.duration}</div>
                        <div class="activity-actions">
                            <button class="icon-btn" onclick="editActivity('${newActivity.id}')">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="icon-btn" onclick="removeActivity('${newActivity.id}')">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </div>
                    <div class="activity-details">
                        <h4>${newActivity.title}</h4>
                        <p>${newActivity.description}</p>
                        <a href="#" class="activity-link" onclick="searchPlace('${newActivity.title} ${appState.currentItinerary.destination}')">
                            Buscar en maps
                            <i class="fas fa-external-link-alt"></i>
                        </a>
                    </div>
                </div>
            `;

            // Añadir al final de la lista de actividades del día
            const daySections = document.querySelectorAll('.day-section');
            if (dayNumber <= daySections.length) {
                const activitiesList = daySections[dayNumber - 1].querySelector('.activities-list');
                activitiesList.innerHTML += newActivityHTML;
            }
        }

        function searchPlace(query) {
            const searchUrl = `https://www.google.com/maps/search/${encodeURIComponent(query)}`;
            window.open(searchUrl, '_blank');
        }

        function regenerateItinerary() {
            if (confirm('¿Generar un nuevo itinerario con las mismas preferencias?')) {
                document.getElementById('generateItinerary').click();
            }
        }

        // ===============================
        // DESCARGA DE ITINERARIO
        // ===============================

        function downloadItinerary() {
            if (!appState.currentItinerary) {
                alert('No hay itinerario para descargar');
                return;
            }

            // Crear contenido del PDF simulado
            const itinerary = appState.currentItinerary;
            let content = `ITINERARIO DE VIAJE - ${itinerary.destination}\n\n`;
            content += `Destino: ${itinerary.destination}\n`;
            content += `Duración: ${itinerary.totalDays} días\n`;
            content += `Tipo de viaje: ${itinerary.travelType}\n`;
            content += `Presupuesto: ${itinerary.budget}\n`;
            content += `Viajeros: ${itinerary.travelers}\n`;
            content += `Generado: ${new Date(itinerary.generatedAt).toLocaleDateString()}\n\n`;
            content += '='.repeat(60) + '\n\n';

            itinerary.days.forEach(day => {
                content += `${day.title.toUpperCase()}\n`;
                content += '='.repeat(50) + '\n';
                day.activities.forEach(activity => {
                    content += `🕒 ${activity.time} - ${activity.title}\n`;
                    content += `   📍 ${activity.description}\n`;
                    content += `   ⏱️  Duración: ${activity.duration}\n\n`;
                });
                content += '\n';
            });

            content += '\nENLACES RECOMENDADOS:\n';
            content += '• Vuelos: https://www.ryanair.com\n';
            content += '• Hoteles: https://www.booking.com\n';
            content += '• Tours: https://www.civitatis.com\n';
            content += '• Restaurantes: https://www.google.com/maps\n\n';

            content += 'CONSEJOS DE VIAJE:\n';
            content += '• Llevar calzado cómodo para caminatas\n';
            content += '• Reservar actividades con anticipación\n';
            content += '• Descargar mapas offline\n';
            content += '• Tener efectivo para pequeños gastos\n';
            content += '• Verificar requisitos de visado y vacunas\n';

            // Crear y descargar archivo
            const blob = new Blob([content], { type: 'text/plain;charset=utf-8' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `itinerario-${itinerary.destination.replace(/,/g, '').replace(/\s+/g, '-').toLowerCase()}.txt`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);

            alert('¡Itinerario descargado! Revisa tu carpeta de descargas.');
        }

        // ===============================
        // INICIALIZACIÓN
        // ===============================

        document.addEventListener('DOMContentLoaded', () => {
            // Cargar recomendaciones de restaurantes
            loadRestaurantRecommendations();
            
            // Añadir estilos para los chips de destinos
            const style = document.createElement('style');
            style.textContent = `
                .destination-chip {
                    background: var(--bg-primary);
                    border: 1px solid var(--glass-border);
                    border-radius: 20px;
                    padding: 8px 16px;
                    font-size: 14px;
                    cursor: pointer;
                    transition: var(--transition);
                    color: var(--text-primary);
                }
                .destination-chip:hover {
                    background: var(--primary-blue);
                    color: white;
                    transform: translateY(-2px);
                }
                .popular-destinations {
                    margin-bottom: 30px;
                }
            `;
            document.head.appendChild(style);

            console.log('TravelAI inicializado correctamente con análisis de reseñas y SEO optimizado');
        });

        // ===============================
        // CÓMO PUBLICAR LA WEB GRATIS
        // ===============================
        
        /* 
        INSTRUCCIONES PARA PUBLICAR GRATIS:

        1. **GitHub Pages** (Recomendado)
           - Crea cuenta en GitHub.com
           - Crea un nuevo repositorio llamado 'travelai'
           - Sube este archivo HTML como 'index.html'
           - Ve a Settings > Pages > Source: main branch
           - Tu web estará en: https://tuusuario.github.io/travelai

        2. **Netlify**
           - Ve a netlify.com
           - Arrastra la carpeta con este archivo
           - URL gratis: https://travelai-tuproyecto.netlify.app

        3. **Vercel**
           - Ve a vercel.com
           - Conecta tu repositorio de GitHub
           - Deploy automático con cada cambio

        4. **Google Sites** (Más simple)
           - Ve a sites.google.com
           - Pega el código en modo HTML
           - URL: https://sites.google.com/view/travelai

        5. **000webhost**
           - Registro en 000webhost.com
           - Sube el archivo vía FTP
           - URL: https://travelai.000webhostapp.com

        CONSEJOS SEO:
        - Usa Google Search Console para indexar
        - Comparte en redes sociales
        - Crea backlinks de calidad
        - Actualiza contenido regularmente
        - Optimiza para móviles (ya está hecho)
        - Usa Google Analytics para métricas

        ¡Tu web TravelAI estará online en minutos!
        */
    </script>
</body>
</html>